<!doctype html>
<html>
  <head>
    <title>Home page</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css' rel='stylesheet'/>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js"></script>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <style>
      body { margin: 0; padding: 0; }
      #map { position: absolute; top: 0; bottom: 0; width: 100%; z-index: -1; }
      #menu { z-index: 1; }
    </style>
  </head>
  <body>
    <div id="menu">
      <h1>HumbleStumble</h1>
      <a href='/logout'>Logout</a>
      <a href='/organisation/add-listing'>Add Listing</a>
      <a href='/organisation/list'>Your Listings</a>
      <a href='/search'>Search</a>
    </div>
    <div id="map"></div>
    <script type="text/javascript">
      mapboxgl.accessToken = 
        'pk.eyJ1IjoidGF5bG9yMjMxMCIsImEiOiJja2lnOHVtaHQwY3dmMnhtcW1yMHpoOWp5In0.s9Bj_7caOCem8NE1Yh7baw';
      navigator.geolocation.getCurrentPosition(position => {
        const { latitude, longitude } = position.coords;
      
        var map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/mapbox/streets-v11', // style URL
          center: [longitude,latitude], // starting position [lng, lat]
          zoom: 14 // starting zoom
        });
        map.addControl(
          new mapboxgl.GeolocateControl({
            positionOptions: {
              enableHighAccuracy: true
            },
            trackUserLocation: true
          })
        );
      });
    </script>

   
  </body>
</html>